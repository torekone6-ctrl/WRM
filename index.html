<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bulk Order Shop</title>
  <style>
    :root{
      --bg:#070b12;
      --panel:rgba(255,255,255,.05);
      --border:rgba(255,255,255,.10);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.65);
      --accent1:#4aa3ff;
      --accent2:#2b7fff;
      --ok:#3dff9c;
      --radius:22px;
      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --max:1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: ui-sans-serif, system-ui, sans-serif;
      color:var(--text); background: radial-gradient(1100px 600px at 15% -10%, rgba(74,163,255,.22), transparent 60%), var(--bg);
      min-height:100vh; padding:28px 16px; display:flex; justify-content:center;
    }
    .wrap{width:100%; max-width:var(--max);}
    header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:18px; }
    .logo{ width:46px; height:46px; border-radius:14px; background:linear-gradient(135deg, #4aa3ff, #2b7fff); border:1px solid var(--border); }
    
    .hero{ display:grid; grid-template-columns: 1.2fr .8fr; gap:18px; }
    @media (max-width: 900px){ .hero{grid-template-columns:1fr;} }

    .card{ background: var(--panel); border:1px solid var(--border); border-radius: var(--radius); backdrop-filter: blur(10px); padding:20px; margin-bottom:20px;}
    
    .grid{ display:grid; grid-template-columns: 1fr 1fr; gap:14px; margin-bottom:15px; }
    .field{ display:flex; flex-direction:column; gap:7px; }
    label{ font-size:11px; color:var(--muted); font-weight:800; text-transform: uppercase; }
    select, textarea, input{
      width:100%; border:1px solid var(--border); background: rgba(0,0,0,.22); color: var(--text);
      border-radius: 12px; padding: 12px; outline:none; font-size: 14px;
    }

    .cart-item {
      background: rgba(255,255,255,0.03); border: 1px solid var(--border);
      padding: 12px; border-radius: 12px; margin-bottom: 8px;
      display: flex; justify-content: space-between; align-items: center;
    }
    .cart-item button { background:none; border:none; color:#ff4a4a; cursor:pointer; font-weight:bold; }

    .btn{
      border:1px solid var(--border); background: rgba(255,255,255,.03);
      color: var(--text); border-radius: 14px; padding: 12px 20px;
      font-weight:900; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center; gap:10px;
    }
    .btn.primary{ background: var(--accent2); border: none; width: 100%; justify-content: center; margin-top: 10px;}
    .btn.add { background: var(--ok); color: #000; border:none; margin-top:10px; }

    .price-display { font-size: 24px; color: var(--ok); font-weight: 900; }
    .summary-box { border-top: 1px solid var(--border); pt: 15px; margin-top: 15px; }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div style="display:flex; gap:12px; align-items:center;">
        <div class="logo"></div>
        <div><h1 style="margin:0; font-size:18px;">Bulk Shop</h1><p style="margin:0; font-size:12px; color:var(--muted);">Wholesale & Consoles</p></div>
      </div>
      <div class="price-display" id="totalPrice">$0</div>
    </header>

    <section class="hero">
      <div class="main-col">
        <div class="card">
          <h3 style="margin-top:0">Configure Item</h3>
          <div class="grid">
            <div class="field">
              <label>Product Category</label>
              <select id="category"></select>
            </div>
            <div class="field">
              <label>Model</label>
              <select id="model"></select>
            </div>
            <div class="field">
              <label>Size / Variation</label>
              <select id="size"></select>
            </div>
            <div class="field">
              <label>Colorway</label>
              <select id="colorway"></select>
            </div>
            <div class="field">
              <label>Quantity</label>
              <input type="number" id="qty" value="1" min="1">
            </div>
            <div class="field">
                <label>Unit Price</label>
                <div id="unitDisplay" style="padding:12px; color:var(--ok)">$0</div>
            </div>
          </div>
          <button class="btn add" id="addToCart">Add to Order +</button>
        </div>

        <div class="card">
          <h3 style="margin-top:0">Your Order Summary</h3>
          <div id="cartList">
            <p style="color:var(--muted); font-size:14px;">No items added yet...</p>
          </div>
          <div class="field" style="margin-top:20px;">
            <label>Extra Notes</label>
            <textarea id="extra" placeholder="Shipping address or special requests..."></textarea>
          </div>
          <a class="btn primary" id="buyBtn" href="#" target="_blank">Message Order on Telegram</a>
        </div>
      </div>

      <aside>
        <div class="card">
          <h3>Information</h3>
          <p style="font-size:13px; color:var(--muted); line-height:1.6;">
            • <b>"Box of..."</b> indicates a wholesale pack of 6 units.<br>
            • Consoles (PS5/Xbox) are sold as <b>Single Units</b>.<br>
            • Add multiple different items to your cart before clicking Buy Now.<br>
            • Shipping is calculated via Telegram chat.
          </p>
        </div>
      </aside>
    </section>
  </div>

  <script>
    const TELEGRAM_USERNAME = "WRMSLL";

    const CATALOG = {
      "Box of Shoes": { price: 240, type: "box", models: ["AJ4 Retro", "AJ1 High", "Dunk Low"], colorways: ["OG Mix", "Black/White", "Random Mix"], sizes: ["Mixed US 7-12"] },
      "Box of Tech": { price: 150, type: "box", models: ["AirPods Pro 2", "AirPods Max", "MagSafe Packs"], colorways: ["Standard"], sizes: ["Retail Pack"] },
      "Box of Clothing": { price: 150, type: "box", models: ["Essentials Hoodie", "Arc'teryx Shell", "FOG Tees"], colorways: ["Black", "Grey", "Mix"], sizes: ["S-XL Mix"] },
      "Box of Accessories": { price: 90, type: "box", models: ["iPhone Cases", "Wallets", "Belts"], colorways: ["Mixed"], sizes: ["Multi-model"] },
      "Sony PlayStation": { price: 300, type: "single", models: ["PS5 Slim Disc", "PS5 Digital", "PS4 Pro 1TB"], colorways: ["White", "Black"], sizes: ["New in Box"] },
      "Microsoft Xbox": { price: 300, type: "single", models: ["Xbox Series X", "Xbox Series S"], colorways: ["Carbon Black", "Robot White"], sizes: ["New in Box"] }
    };

    let cart = [];
    const $ = (id) => document.getElementById(id);

    function populateSelect(el, arr) {
      el.innerHTML = "";
      arr.forEach(v => {
        let opt = document.createElement("option");
        opt.value = v; opt.textContent = v;
        el.appendChild(opt);
      });
    }

    function updateConfig() {
      const cat = $("category").value;
      const data = CATALOG[cat];
      populateSelect($("model"), data.models);
      populateSelect($("size"), data.sizes);
      populateSelect($("colorway"), data.colorways);
      $("unitDisplay").textContent = `$${data.price}`;
    }

    function updateCartUI() {
      const container = $("cartList");
      container.innerHTML = "";
      let total = 0;

      if (cart.length === 0) {
        container.innerHTML = `<p style="color:var(--muted); font-size:14px;">No items added yet...</p>`;
      }

      cart.forEach((item, index) => {
        total += item.lineTotal;
        const div = document.createElement("div");
        div.className = "cart-item";
        div.innerHTML = `
          <div>
            <div style="font-weight:bold">${item.category} x${item.qty}</div>
            <div style="font-size:11px; color:var(--muted)">${item.model} | ${item.color}</div>
          </div>
          <div style="display:flex; align-items:center; gap:15px;">
            <span style="color:var(--ok)">$${item.lineTotal}</span>
            <button onclick="removeItem(${index})">✕</button>
          </div>
        `;
        container.appendChild(div);
      });

      $("totalPrice").textContent = `$${total}`;
      generateTelegramLink(total);
    }

    function removeItem(index) {
      cart.splice(index, 1);
      updateCartUI();
    }

    function generateTelegramLink(total) {
      if (cart.length === 0) {
        $("buyBtn").href = "#";
        return;
      }

      let itemDetails = cart.map(i => 
        `- ${i.qty}x ${i.category} (${i.model})\n  Specs: ${i.size}, ${i.color}\n  Sub: $${i.lineTotal}`
      ).join("\n\n");

      const msg = `NEW ORDER REQUEST\n` +
                  `====================\n` +
                  `${itemDetails}\n` +
                  `====================\n` +
                  `TOTAL POOL: $${total}\n` +
                  `NOTES: ${$("extra").value || "None"}`;

      $("buyBtn").href = `https://t.me/${TELEGRAM_USERNAME}?text=${encodeURIComponent(msg)}`;
    }

    // Events
    $("category").addEventListener("change", updateConfig);
    
    $("addToCart").addEventListener("click", () => {
      const cat = $("category").value;
      const data = CATALOG[cat];
      const qty = parseInt($("qty").value) || 1;

      const newItem = {
        category: cat,
        model: $("model").value,
        size: $("size").value,
        color: $("colorway").value,
        qty: qty,
        lineTotal: data.price * qty
      };

      cart.push(newItem);
      updateCartUI();
      // Visual feedback: reset qty
      $("qty").value = 1;
    });

    $("extra").addEventListener("input", () => {
        const total = cart.reduce((sum, item) => sum + item.lineTotal, 0);
        generateTelegramLink(total);
    });

    // Init
    populateSelect($("category"), Object.keys(CATALOG));
    updateConfig();
  </script>
</body>
</html>
